<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="HappyHours">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    
    <!-- Theme Colors -->
    <meta name="theme-color" content="#28a745">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192x192.png">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icons/icon-512x512.png">
    
    <!-- Splash Screens -->
    <link rel="apple-touch-startup-image" href="splash/apple-splash-2048-2732.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="splash/apple-splash-1668-2388.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="splash/apple-splash-1536-2048.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="splash/apple-splash-1242-2688.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="splash/apple-splash-1125-2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="splash/apple-splash-828-1792.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Inter:wght@700&display=swap" rel="stylesheet">
    
    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <title>Hora Feliz</title>
</head>
<body>
<div id="adContainer">
   <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9513836446352424" crossorigin="anonymous"></script>
   <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-9513836446352424"
        data-ad-slot="8117587802"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
   <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
   </script>
</div>
<div class="container transition-screen">
   <div id="content" style="margin-top: 1cm;">
       <div id="calorias">
           <div id="screen1" class="screen active">
               <div class="gender-symbols">
                   <div style="text-align: center;">
                       <svg id="maleSymbol" class="gender-symbol" viewBox="0 0 24 24" onclick="selectGender('male')">
                           <path d="M20 4V8H16V4H20M22 2H14V10H22V2M11 8C7.14 8 4 11.14 4 15C4 18.86 7.14 22 11 22C14.86 22 18 18.86 18 15C18 11.14 14.86 8 11 8M11 10C13.76 10 16 12.24 16 15C16 17.76 13.76 20 11 20C8.24 20 6 17.76 6 15C6 12.24 8.24 10 11 10Z"/>
                       </svg>
                       <div style="color: #666; font-size: 12px; margin-top: 5px;">Hombre</div>
                   </div>
                   <div style="text-align: center;">
                       <svg id="femaleSymbol" class="gender-symbol" viewBox="0 0 24 24" onclick="selectGender('female')">
                           <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2M10 9H14C15.1 9 16 9.9 16 11V22H14V18H10V22H8V11C8 9.9 8.9 9 10 9Z"/>
                       </svg>
                       <div style="color: #666; font-size: 12px; margin-top: 5px;">Mujer</div>
                   </div>
               </div>
               <input type="number" id="peso" placeholder="Peso corporal (kg)" style="font-size: 18px;">
               <button onclick="siguientePantalla('cerveza')" style="font-size: 18px;">Cerveza üç∫</button>
               <button onclick="siguientePantalla('vino')" style="font-size: 18px;">Vino üç∑</button>
               <button onclick="siguientePantalla('combinado')" style="font-size: 18px;">Combinado üç∏</button>
           </div>
           <div id="screen2Cerveza" class="screen">
               <h1>Cerveza üç∫</h1>
               <select id="tipoCerveza">
                   <option value="200">Cuarto (200ml)</option>
                   <option value="220">Quinto (220ml)</option>
                   <option value="330" selected>Tercio (330ml)</option>
               </select>
               <input type="number" id="unidadesCerveza" placeholder="Unidades consumidas" min="0">
               <button onclick="calcularResultado('cerveza')" class="big-button">Calcular</button>
               <button class="back-button" onclick="volverInicio()">Atr√°s</button>
           </div>

           <div id="screen2Vino" class="screen">
               <h1>Vino üç∑</h1>
               <select id="tipoVino">
                   <option value="frizzante">Frizzante</option>
                   <option value="tinto" selected>Tinto</option>
                   <option value="blanco">Blanco</option>
               </select>
               <input type="number" id="unidadesVino" placeholder="Unidades consumidas" min="0">
               <p>Una copa se estima en 150ml</p>
               <button onclick="calcularResultado('vino')" class="big-button">Calcular</button>
               <button class="back-button" onclick="volverInicio()">Atr√°s</button>
           </div>

           <div id="screen2Combinado" class="screen">
               <h1>Combinado üç∏</h1>
               <select id="tipoCombinado">
                   <option value="ron">Ron</option>
                   <option value="ginebra">Ginebra</option>
                   <option value="vodka">Vodka</option>
                   <option value="whisky">Whisky</option>
               </select>
               <select id="combinadaCon">
                   <option value="cola">Cola</option>
                   <option value="colaZero">Cola Zero</option>
                   <option value="gaseosaLimonNaranja">Gaseosa Lim√≥n/Naranja</option>
                   <option value="gaseosa">Gaseosa</option>
                   <option value="solo">Solo</option>
               </select>
               <input type="number" id="unidadesCombinado" placeholder="Unidades consumidas" min="0">
               <p class="subtle-message">Una copa se estima en 65ml, depende de tu camarero de confianza</p>
               <button onclick="calcularResultado('combinado')" class="big-button">Calcular</button>
               <button class="back-button" onclick="volverInicio()">Atr√°s</button>
           </div>

           <div id="screen3" class="screen">
               <h1>Resultado</h1>
               <button class="info-button" onclick="mostrarInformacion('calorias')">i</button>

               <p class="consumo-mensaje">Has consumido aproximadamente</p>
               <p class="calorias"><span id="resultadoCalorias">0</span> Kcal.</p>

               <p>Has consumido aproximadamente <span class="azucar" id="resultadoAzucar">0.00</span> gr de az√∫car.</p>

               <div id="registroConsumos" class="registro-consumos"></div>

               <button onclick="volverInicio()">Volver al inicio</button>
               <button onclick="anadirOtraBebida()">A√±adir otra bebida</button>
           </div>
       </div>

       <div id="alcoholimetro" style="display: none;">
           <div style="position: relative;">
               <button class="info-button" onclick="mostrarInformacion('alcoholimetro')">i</button>
           </div>
           
           <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9513836446352424" crossorigin="anonymous"></script>
           <ins class="adsbygoogle"
                style="display:block; text-align:center;"
                data-ad-layout="in-article"
                data-ad-format="fluid"
                data-ad-client="ca-pub-9513836446352424"
                data-ad-slot="4991928687"></ins>
           <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
           </script>

           <div id="alcoholimetroMensaje" style="display: block;">
               <div style="text-align: center; padding: 20px; color: #666;">
                   <i class="fas fa-tint" style="font-size: 48px; margin-bottom: 15px; color: #999;"></i>
                   <p style="font-size: 18px; margin-bottom: 10px;">No hay calculos de alcohol en sangre disponibles a√∫n</p>
                   <p style="font-size: 14px;">Calcula alguna bebida para comprobar su alcohol en sangre</p>
               </div>
           </div>

           <div id="alcoholimetroResultados" style="display: none;">
               <p id="nivelAlcoholMensaje" style="text-align: center;">Tu nivel de alcohol en sangre es aproximadamente:</p>
               <p id="nivelAlcoholValor" style="text-align: center; font-size: 3rem; font-weight: bold;"></p>

               <div id="advertencia" class="advertencia-amarilla">
                   Tu nivel de alcohol est√° por debajo del l√≠mite legal, pero recuerda que es mejor no conducir si has bebido.
               </div>

               <div id="taxiNumber">
                   <a href="#" onclick="extraerYLlamarTaxi(); return false;">Llamar a taxi</a>
               </div>

               <div id="trustedPhone">
               </div>
           </div>
       </div>

       <div id="registros" style="display: none;">
           <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9513836446352424" crossorigin="anonymous"></script>
           <ins class="adsbygoogle"
                style="display:block; text-align:center;"
                data-ad-layout="in-article"
                data-ad-format="fluid"
                data-ad-client="ca-pub-9513836446352424"
                data-ad-slot="9239097788"></ins>
           <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
           </script>

           <h2></h2>
           <div id="registrosContenido"></div>

           <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9513836446352424" crossorigin="anonymous"></script>
           <ins class="adsbygoogle"
                style="display:block; text-align:center;"
                data-ad-layout="in-article"
                data-ad-format="fluid"
                data-ad-client="ca-pub-9513836446352424"
                data-ad-slot="7926016110"></ins>
           <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
           </script>
       </div>
   </div>

   <div class="tabs">
       <a href="#" class="tab active" onclick="cambiarPestana('calorias')">
           <i class="fas fa-fire tab-icon"></i>
           <span>Calor√≠as</span>
       </a>
       <a href="#" class="tab" onclick="cambiarPestana('alcoholimetro')">
           <i class="fas fa-car tab-icon"></i>
           <span>Alcohol√≠metro</span>
       </a>
       <a href="#" class="tab" onclick="cambiarPestana('registros')">
           <i class="fas fa-clipboard-list tab-icon"></i>
           <span>Registros</span>
       </a>
   </div>
   <div class="version-info">HappyHours versi√≥n iOS</div>
</div>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9513836446352424" crossorigin="anonymous"></script>
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-9513836446352424"
    data-ad-slot="9500081534"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script src="./script.js"></script>
<script>
if ('serviceWorker' in navigator) {
   navigator.serviceWorker.register('./service-worker.js')
       .then(registration => {
           console.log('Service Worker registrado correctamente');
       })
       .catch(error => {
           console.error('Error al registrar el Service Worker:', error);
       });
}
</script>
</body>
</html>
